# Spec Delta: Bot Commands

## ADDED Requirements

### Requirement: Создание расписания приема таблеток
Бот MUST предоставлять команду для создания расписания приема таблеток с указанием времени и частоты.

#### Scenario: Успешное создание расписания
- **WHEN** пользователь отправляет команду `/setreminder 09:00,14:00,21:00` в группе
- **THEN** бот создает расписание с тремя напоминаниями в день (09:00, 14:00, 21:00)
- **AND** бот отправляет подтверждающее сообщение с деталями расписания
- **AND** расписание сохраняется в базе данных с привязкой к пользователю и группе

#### Scenario: Некорректный формат времени
- **WHEN** пользователь отправляет команду `/setreminder 25:00`
- **THEN** бот отправляет сообщение об ошибке с объяснением правильного формата
- **AND** расписание не создается

#### Scenario: Расписание уже существует
- **WHEN** пользователь отправляет `/setreminder` и у него уже есть активное расписание
- **THEN** бот предлагает сначала удалить существующее расписание
- **AND** предоставляет команду для удаления

### Requirement: Просмотр активных расписаний
Бот MUST предоставлять команду для просмотра текущих активных расписаний пользователя.

#### Scenario: Просмотр существующего расписания
- **WHEN** пользователь отправляет команду `/myreminders`
- **AND** у пользователя есть активное расписание
- **THEN** бот отправляет список времен напоминаний
- **AND** показывает в какой группе настроено расписание

#### Scenario: Нет активных расписаний
- **WHEN** пользователь отправляет команду `/myreminders`
- **AND** у пользователя нет активных расписаний
- **THEN** бот отправляет сообщение "У вас нет активных расписаний"
- **AND** предлагает создать расписание через `/setreminder`

### Requirement: Редактирование расписания
Бот MUST предоставлять команду для изменения существующего расписания.

#### Scenario: Успешное редактирование
- **WHEN** пользователь отправляет команду `/editreminder 10:00,15:00`
- **AND** у пользователя есть активное расписание
- **THEN** бот обновляет расписание новыми временами
- **AND** отменяет старые cron-задачи
- **AND** создает новые cron-задачи
- **AND** отправляет подтверждение изменений

#### Scenario: Редактирование без существующего расписания
- **WHEN** пользователь отправляет команду `/editreminder 10:00`
- **AND** у пользователя нет активного расписания
- **THEN** бот отправляет сообщение об ошибке
- **AND** предлагает создать расписание через `/setreminder`

### Requirement: Удаление расписания
Бот MUST предоставлять команду для удаления расписания и прекращения напоминаний.

#### Scenario: Успешное удаление
- **WHEN** пользователь отправляет команду `/deletereminder`
- **AND** у пользователя есть активное расписание
- **THEN** бот удаляет расписание из базы данных
- **AND** отменяет все связанные cron-задачи
- **AND** отправляет подтверждение удаления

#### Scenario: Удаление без существующего расписания
- **WHEN** пользователь отправляет команду `/deletereminder`
- **AND** у пользователя нет активного расписания
- **THEN** бот отправляет сообщение "У вас нет активных расписаний для удаления"

### Requirement: Справочная информация
Бот MUST предоставлять команду для отображения справки по всем доступным командам.

#### Scenario: Запрос справки
- **WHEN** пользователь отправляет команду `/help`
- **THEN** бот отправляет список всех доступных команд
- **AND** для каждой команды показывает формат использования и описание
- **AND** приводит примеры использования команд
