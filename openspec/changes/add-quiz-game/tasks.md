## 1. Схема базы данных
- [ ] 1.1 Добавить модель `Quiz` в `prisma/schema.prisma` с полями: id, name (unique), description, isActive, createdAt
- [ ] 1.2 Добавить модель `QuizQuestion` в `prisma/schema.prisma` с полями: id, quizId, questionText, createdAt
- [ ] 1.3 Добавить модель `QuizOption` в `prisma/schema.prisma` с полями: id, questionId, optionText, isCorrect
- [ ] 1.4 Создать и применить миграцию базы данных

## 2. Типы и интерфейсы
- [ ] 2.1 Создать файл `src/types/quiz.ts` с интерфейсами для квиз-сессии
- [ ] 2.2 Определить типы для активной сессии (userId, chatId, quizName, questions, currentIndex, correctCount)

## 3. Сервис квиза
- [ ] 3.1 Создать файл `src/services/quizService.ts`
- [ ] 3.2 Реализовать функцию `createQuiz(name, description)` для создания квиза
- [ ] 3.3 Реализовать функцию `getAllQuizzes()` для получения всех квизов
- [ ] 3.4 Реализовать функцию `deleteQuiz(name)` для удаления квиза
- [ ] 3.5 Реализовать функцию `createQuestion(quizName, questionText, options)` для создания вопроса
- [ ] 3.6 Реализовать функцию `getQuestionsByQuiz(quizName)` для получения вопросов квиза
- [ ] 3.7 Реализовать функцию `deleteQuestion(id)` для удаления вопроса
- [ ] 3.8 Реализовать функцию `getAllQuestionsFromQuiz(quizName)` для получения всех вопросов квиза

## 4. Управление сессиями квиза
- [ ] 4.1 Создать in-memory хранилище активных квиз-сессий (Map)
- [ ] 4.2 Реализовать функции создания, получения и удаления сессий
- [ ] 4.3 Добавить логику отслеживания текущего вопроса и счета

## 5. Команды администратора для управления квизами
- [ ] 5.1 Реализовать команду `/createquiz <название>` в `src/handlers/commands.ts`
- [ ] 5.2 Реализовать команду `/listquizzes` для просмотра всех квизов
- [ ] 5.3 Реализовать команду `/deletequiz <название>` для удаления квиза
- [ ] 5.4 Добавить middleware `isAdmin` для защиты команд

## 5a. Команды администратора для управления вопросами
- [ ] 5a.1 Реализовать команду `/addquestion <название_квиза>` в `src/handlers/commands.ts`
- [ ] 5a.2 Реализовать команду `/listquestions <название_квиза>` для просмотра вопросов
- [ ] 5a.3 Реализовать команду `/deletequestion <id>` для удаления вопроса

## 6. Команда запуска квиза
- [ ] 6.1 Реализовать команду `/startquiz <название>` в `src/handlers/commands.ts`
- [ ] 6.2 Добавить валидацию существования квиза с указанным названием
- [ ] 6.3 Проверить наличие вопросов в квизе
- [ ] 6.4 Загрузить все вопросы квиза в случайном порядке
- [ ] 6.5 Создать квиз-сессию и отправить первый вопрос с inline-кнопками

## 7. Обработка ответов
- [ ] 7.1 Добавить callback handler в `src/handlers/callbacks.ts` для обработки ответов
- [ ] 7.2 Реализовать логику проверки правильности ответа
- [ ] 7.3 Отправлять сообщение с результатом (правильно/неправильно) после каждого ответа
- [ ] 7.4 Переходить к следующему вопросу или завершать квиз

## 8. Финальная статистика
- [ ] 8.1 Реализовать отображение финальной статистики в конце квиза
- [ ] 8.2 Показать количество правильных и неправильных ответов
- [ ] 8.3 Рассчитать и показать процент правильных ответов
- [ ] 8.4 Удалить сессию после завершения квиза

## 9. Обновление справки
- [ ] 9.1 Добавить команду `/startquiz <название>` в справку для всех пользователей
- [ ] 9.2 Добавить команду `/listquizzes` в справку для всех пользователей
- [ ] 9.3 Добавить административные команды квиза в справку для администратора
- [ ] 9.4 Добавить примеры использования команд
