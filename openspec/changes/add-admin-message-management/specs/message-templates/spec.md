## MODIFIED Requirements
### Requirement: Управление шаблонами
Система MUST позволять администратору управлять шаблонами через команды бота: создавать, удалять и просматривать шаблоны.

#### Scenario: Создание шаблона через команду
- **WHEN** администратор создает шаблон через команду бота
- **THEN** шаблон сохраняется в базе данных с полями: id, type, content, isActive
- **AND** поле isActive устанавливается в true по умолчанию
- **AND** генерируется уникальный UUID для поля id

#### Scenario: Удаление шаблона через команду
- **WHEN** администратор удаляет шаблон через команду бота
- **THEN** запись полностью удаляется из базы данных
- **AND** шаблон больше не доступен для использования
- **AND** операция выполняется только если шаблон существует

#### Scenario: Просмотр шаблонов через команду
- **WHEN** администратор запрашивает список шаблонов
- **THEN** система возвращает все шаблоны с их метаданными
- **AND** отображает ID, тип, содержимое и статус активности
- **AND** поддерживает фильтрацию по типу шаблона

#### Scenario: Деактивация шаблона
- **WHEN** администратор деактивирует шаблон
- **THEN** поле isActive устанавливается в false
- **AND** шаблон больше не используется в случайном выборе
- **AND** запись остается в базе данных

#### Scenario: Активация шаблона
- **WHEN** администратор активирует шаблон
- **THEN** поле isActive устанавливается в true
- **AND** шаблон становится доступным для использования

## ADDED Requirements
### Requirement: Авторизация администратора
Система MUST проверять права администратора перед выполнением операций управления шаблонами.

#### Scenario: Проверка прав через Telegram ID
- **WHEN** пользователь пытается выполнить административную команду
- **THEN** система сравнивает его telegramId с ADMIN_TELEGRAM_ID из переменных окружения
- **AND** разрешает операцию только при совпадении ID
- **AND** отклоняет операцию с сообщением об ошибке при несовпадении

#### Scenario: Отсутствие ADMIN_TELEGRAM_ID в конфигурации
- **WHEN** ADMIN_TELEGRAM_ID не установлен в переменных окружения
- **THEN** система логирует предупреждение при запуске
- **AND** все административные команды недоступны
- **AND** бот отправляет сообщение "Административные функции не настроены"

### Requirement: Валидация данных шаблонов
Система MUST валидировать данные при создании и изменении шаблонов.

#### Scenario: Валидация содержимого шаблона
- **WHEN** администратор создает шаблон
- **THEN** система проверяет что content не пустой
- **AND** проверяет что длина content не превышает 4096 символов (лимит Telegram)
- **AND** отклоняет создание с сообщением об ошибке при нарушении ограничений

#### Scenario: Валидация типа шаблона
- **WHEN** администратор создает шаблон
- **THEN** система проверяет что type является "reminder" или "reward"
- **AND** отклоняет создание с сообщением об ошибке при неверном типе
